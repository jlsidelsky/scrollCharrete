import React, { useEffect, useState } from "react";
import "./Morph4.css";
import { getScrollPercentage } from "../utils";

const Morph4: React.FC = () => {
  const [scrollPercent, setScrollPercent] = useState(0);

  useEffect(() => {
    const handleScroll = () => {
      setScrollPercent(getScrollPercentage());
    };

    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);

  return (
    <>
      <div>
        <div className="morph4-scroll-container"></div>
      </div>
      <div className="svg-morphing4-container">
        <svg
          id="Layer_1"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 99.229 99.7538"
          className="room"
          width={`${100 + scrollPercent * 100}vw`}
          height={`${100 + scrollPercent * 100}vh`}
          preserveAspectRatio="none"
        >
          <g>
            <rect x="32.2395" y="32.5019" width="34.75" height="34.75" />
            <line x1="32.2395" y1="64.0928" x2="66.9895" y2="64.0928" />
            <line x1="32.2395" y1="60.9337" x2="66.9895" y2="60.9337" />
            <line x1="32.2395" y1="57.7746" x2="66.9895" y2="57.7746" />
            <line x1="32.2395" y1="54.6155" x2="66.9895" y2="54.6155" />
            <line x1="32.2395" y1="51.4564" x2="66.9895" y2="51.4564" />
            <line x1="32.2395" y1="48.2974" x2="66.9895" y2="48.2974" />
            <line x1="32.2395" y1="45.1383" x2="66.9895" y2="45.1383" />
            <line x1="32.2395" y1="41.9792" x2="66.9895" y2="41.9792" />
            <line x1="32.2395" y1="38.8201" x2="66.9895" y2="38.8201" />
            <line x1="32.2395" y1="35.661" x2="66.9895" y2="35.661" />
            <line x1="63.8304" y1="32.5019" x2="63.8304" y2="67.2519" />
            <line x1="60.6713" y1="32.5019" x2="60.6713" y2="67.2519" />
            <line x1="57.5122" y1="32.5019" x2="57.5122" y2="67.2519" />
            <line x1="54.3532" y1="32.5019" x2="54.3532" y2="67.2519" />
            <line x1="51.1941" y1="32.5019" x2="51.1941" y2="67.2519" />
            <line x1="48.035" y1="32.5019" x2="48.035" y2="67.2519" />
            <line x1="44.8759" y1="32.5019" x2="44.8759" y2="67.2519" />
            <line x1="41.7168" y1="32.5019" x2="41.7168" y2="67.2519" />
            <line x1="38.5577" y1="32.5019" x2="38.5577" y2="67.2519" />
            <line x1="35.3986" y1="32.5019" x2="35.3986" y2="67.2519" />
          </g>
          <g>
            <polygon points=".2988 .1251 98.9303 .1525 67.0296 32.5019 32.1988 32.5019 .2988 .1251" />
            <line x1="31.1109" y1="31.3978" x2="68.118" y2="31.3982" />
            <line x1="29.8781" y1="30.1466" x2="69.3515" y2="30.1474" />
            <line x1="28.4692" y1="28.7166" x2="70.761" y2="28.718" />
            <line x1="26.8436" y1="27.0667" x2="72.3873" y2="27.0688" />
            <line x1="24.9471" y1="25.1419" x2="74.2845" y2="25.145" />
            <line x1="22.7059" y1="22.8671" x2="76.5263" y2="22.8716" />
            <line x1="20.0166" y1="20.1376" x2="79.2162" y2="20.1439" />
            <line x1="16.7298" y1="16.8017" x2="82.5033" y2="16.8106" />
            <line x1="12.6215" y1="12.6321" x2="86.6114" y2="12.6447" />
            <line x1="7.34" y1="7.2716" x2="91.8919" y2="7.2899" />
            <line x1="89.9707" y1=".15" x2="63.864" y2="32.5019" />
            <line x1="81.0097" y1=".1475" x2="60.6983" y2="32.5019" />
            <line x1="72.0473" y1=".145" x2="57.5323" y2="32.5019" />
            <line x1="63.0836" y1=".1425" x2="54.3663" y2="32.5019" />
            <line x1="54.1185" y1=".1401" x2="51.2" y2="32.5019" />
            <line x1="45.152" y1=".1376" x2="48.0335" y2="32.5019" />
            <line x1="36.1841" y1=".1351" x2="44.8669" y2="32.5019" />
            <line x1="27.2148" y1=".1326" x2="41.7001" y2="32.5019" />
            <line x1="18.2442" y1=".1301" x2="38.5332" y2="32.5019" />
            <line x1="9.2722" y1=".1276" x2="35.3661" y2="32.5019" />
          </g>
          <g>
            <polygon points=".2987 99.6287 98.9302 99.6013 67.0296 67.2519 32.1987 67.2519 .2987 99.6287" />
            <line x1="31.1109" y1="68.356" x2="68.118" y2="68.3556" />
            <line x1="29.8781" y1="69.6072" x2="69.3514" y2="69.6064" />
            <line x1="28.4692" y1="71.0372" x2="70.761" y2="71.0358" />
            <line x1="26.8436" y1="72.6871" x2="72.3873" y2="72.685" />
            <line x1="24.9471" y1="74.6119" x2="74.2844" y2="74.6088" />
            <line x1="22.7059" y1="76.8867" x2="76.5263" y2="76.8822" />
            <line x1="20.0165" y1="79.6162" x2="79.2162" y2="79.6099" />
            <line x1="16.7297" y1="82.9521" x2="82.5033" y2="82.9432" />
            <line x1="12.6215" y1="87.1217" x2="86.6113" y2="87.1091" />
            <line x1="7.34" y1="92.4822" x2="91.8918" y2="92.4639" />
            <line x1="89.9706" y1="99.6038" x2="63.864" y2="67.2519" />
            <line x1="81.0097" y1="99.6063" x2="60.6982" y2="67.2519" />
            <line x1="72.0473" y1="99.6088" x2="57.5323" y2="67.2519" />
            <line x1="63.0836" y1="99.6113" x2="54.3662" y2="67.2519" />
            <line x1="54.1184" y1="99.6137" x2="51.1999" y2="67.2519" />
            <line x1="45.1519" y1="99.6162" x2="48.0335" y2="67.2519" />
            <line x1="36.1841" y1="99.6187" x2="44.8669" y2="67.2519" />
            <line x1="27.2148" y1="99.6212" x2="41.7001" y2="67.2519" />
            <line x1="18.2442" y1="99.6237" x2="38.5331" y2="67.2519" />
            <line x1="9.2721" y1="99.6262" x2="35.366" y2="67.2519" />
          </g>
          <g>
            <polygon points=".422 .4252 .449 99.3285 32.2352 67.2921 32.2352 32.4609 .422 .4252" />
            <line x1="31.1532" y1="31.3713" x2="31.1536" y2="68.3823" />
            <line x1="29.9268" y1="30.1363" x2="29.9276" y2="69.6179" />
            <line x1="28.5248" y1="28.7245" x2="28.5262" y2="71.0303" />
            <line x1="26.9068" y1="27.0952" x2="26.9089" y2="72.6603" />
            <line x1="25.0186" y1="25.1938" x2="25.0217" y2="74.5624" />
            <line x1="22.7864" y1="22.946" x2="22.7908" y2="76.8109" />
            <line x1="20.1067" y1="20.2476" x2="20.1129" y2="79.5098" />
            <line x1="16.8301" y1="16.948" x2="16.8388" y2="82.8097" />
            <line x1="12.732" y1="12.8212" x2="12.7444" y2="86.9364" />
            <line x1="7.4591" y1="7.5115" x2="7.4771" y2="92.2451" />
            <line x1=".4465" y1="90.3442" x2="32.2352" y2="64.1265" />
            <line x1=".4441" y1="81.3585" x2="32.2352" y2="60.9607" />
            <line x1=".4416" y1="72.3715" x2="32.2352" y2="57.7947" />
            <line x1=".4392" y1="63.383" x2="32.2352" y2="54.6286" />
            <line x1=".4367" y1="54.3932" x2="32.2352" y2="51.4623" />
            <line x1=".4343" y1="45.402" x2="32.2352" y2="48.2958" />
            <line x1=".4318" y1="36.4094" x2="32.2352" y2="45.1292" />
            <line x1=".4294" y1="27.4154" x2="32.2352" y2="41.9624" />
            <line x1=".4269" y1="18.42" x2="32.2352" y2="38.7954" />
            <line x1=".4245" y1="9.4233" x2="32.2352" y2="35.6282" />
          </g>
          <g>
            <polygon points="98.8028 .4252 98.7758 99.3285 66.9895 67.2921 66.9895 32.4609 98.8028 .4252" />
            <line x1="68.0715" y1="31.3713" x2="68.0712" y2="68.3823" />
            <line x1="69.298" y1="30.1363" x2="69.2972" y2="69.6179" />
            <line x1="70.6999" y1="28.7245" x2="70.6986" y2="71.0303" />
            <line x1="72.3179" y1="27.0952" x2="72.3158" y2="72.6603" />
            <line x1="74.2061" y1="25.1938" x2="74.2031" y2="74.5624" />
            <line x1="76.4383" y1="22.946" x2="76.434" y2="76.8109" />
            <line x1="79.118" y1="20.2476" x2="79.1118" y2="79.5098" />
            <line x1="82.3947" y1="16.948" x2="82.386" y2="82.8097" />
            <line x1="86.4928" y1="12.8212" x2="86.4804" y2="86.9364" />
            <line x1="91.7656" y1="7.5115" x2="91.7476" y2="92.2451" />
            <line x1="98.7782" y1="90.3442" x2="66.9895" y2="64.1265" />
            <line x1="98.7807" y1="81.3585" x2="66.9895" y2="60.9607" />
            <line x1="98.7831" y1="72.3715" x2="66.9895" y2="57.7947" />
            <line x1="98.7856" y1="63.383" x2="66.9895" y2="54.6286" />
            <line x1="98.788" y1="54.3932" x2="66.9895" y2="51.4623" />
            <line x1="98.7905" y1="45.402" x2="66.9895" y2="48.2958" />
            <line x1="98.7929" y1="36.4094" x2="66.9895" y2="45.1292" />
            <line x1="98.7954" y1="27.4154" x2="66.9895" y2="41.9624" />
            <line x1="98.7978" y1="18.42" x2="66.9895" y2="38.7954" />
            <line x1="98.8003" y1="9.4233" x2="66.9895" y2="35.6282" />
          </g>
        </svg>
      </div>
    </>
  );
};

export default Morph4;
